<div class="container-fluid d-flex align-items-center justify-content-center">
  <div class="row">
    <div class="col-12 text-center mb-4">
      <h2>Add Your Child's Details</h2>
      <p>Please provide information about your child to personalize their experience</p>
    </div>

    <div class="col-12 col-lg-6">
      <mat-card>
        <mat-card-content>
          <form [formGroup]="kidForm" (ngSubmit)="onSubmit()">
            <div class="row">
              <div class="col-12">
                <mat-form-field class="full-width">
                  <mat-label>Child's Name</mat-label>
                  <input matInput formControlName="name">
                  <mat-icon matSuffix>face</mat-icon>
                  <mat-error *ngIf="kidForm.controls['name'].hasError('required')">
                    Name is required
                  </mat-error>
                </mat-form-field>
              </div>

              <div class="col-12">
                <mat-form-field class="full-width">
                  <mat-label>Age</mat-label>
                  <input matInput type="number" formControlName="age">
                  <mat-icon matSuffix>cake</mat-icon>
                  <mat-error *ngIf="kidForm.controls['age'].hasError('required')">
                    Age is required
                  </mat-error>
                  <mat-error *ngIf="kidForm.controls['age'].hasError('min')">
                    Age must be at least 1
                  </mat-error>
                  <mat-error *ngIf="kidForm.controls['age'].hasError('max')">
                    Age must be 17 or under
                  </mat-error>
                </mat-form-field>
              </div>

              <div class="col-12">
                <mat-form-field class="full-width">
                  <mat-label>Gender</mat-label>
                  <mat-select formControlName="gender">
                    <mat-option value="male">Male</mat-option>
                    <mat-option value="female">Female</mat-option>
                    <mat-option value="other">Other</mat-option>
                  </mat-select>
                  <mat-icon matSuffix>wc</mat-icon>
                </mat-form-field>
              </div>

              <div class="col-12">
                <mat-form-field class="full-width">
                  <mat-label>Grade Level</mat-label>
                  <mat-select formControlName="gradeLevel">
                    <mat-option value="preschool">Preschool</mat-option>
                    <mat-option value="kindergarten">Kindergarten</mat-option>
                    <mat-option value="grade1">Grade 1</mat-option>
                    <mat-option value="grade2">Grade 2</mat-option>
                    <mat-option value="grade3">Grade 3</mat-option>
                    <mat-option value="grade4">Grade 4</mat-option>
                    <mat-option value="grade5">Grade 5</mat-option>
                    <mat-option value="grade6">Grade 6</mat-option>
                    <mat-option value="grade7">Grade 7</mat-option>
                    <mat-option value="grade8">Grade 8</mat-option>
                    <mat-option value="grade9">Grade 9</mat-option>
                    <mat-option value="grade10">Grade 10</mat-option>
                    <mat-option value="grade11">Grade 11</mat-option>
                    <mat-option value="grade12">Grade 12</mat-option>
                  </mat-select>
                  <mat-icon matSuffix>school</mat-icon>
                </mat-form-field>
              </div>

              <div class="col-12">
                <mat-form-field class="full-width">
                  <mat-label>Interests (separate with commas)</mat-label>
                  <input matInput formControlName="interests">
                  <mat-icon matSuffix>interests</mat-icon>
                </mat-form-field>
              </div>

              <div class="col-12 my-3">
                <button mat-raised-button type="submit" class="full-width"
                        color="primary" [disabled]="kidForm.invalid || isSubmitting">
                  <mat-icon *ngIf="isSubmitting">
                    <mat-spinner diameter="20"></mat-spinner>
                  </mat-icon>
                  <span *ngIf="!isSubmitting">Save Child's Details</span>
                  <span *ngIf="isSubmitting">Saving...</span>
                </button>
              </div>

              <div class="col-12" *ngIf="kids && kids.length > 0">
                <h3 class="mt-4">Children Added</h3>
                <mat-list>
                  <mat-list-item *ngFor="let kid of kids">
                    <mat-icon matListItemIcon>child_care</mat-icon>
                    <div matListItemTitle>{{kid.name}} ({{kid.age}} years old)</div>
                    <div matListItemLine>{{kid.gradeLevel}}</div>
                  </mat-list-item>
                </mat-list>
              </div>

              <div class="col-12 mt-3">
                <button mat-raised-button class="full-width"
                        color="accent" routerLink="/console" [disabled]="isSubmitting">
                  Continue to Dashboard
                </button>
              </div>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
