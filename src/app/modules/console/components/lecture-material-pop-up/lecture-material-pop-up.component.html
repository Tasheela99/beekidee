<!-- Fixed Template -->
<div class="container-fluid p-3">
  <div class="row">
    <div class="col-12 mb-4">
      <h3 class="text-center">Add New Learning Material</h3>
    </div>
  </div>
  <div class="row">
    <form [formGroup]="form" (ngSubmit)="submit()">
      <div class="col-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Subject</mat-label>
          <input matInput formControlName="subject" required>
          <mat-error *ngIf="form.get('subject')?.hasError('required')">
            Subject is required
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Title</mat-label>
          <input matInput formControlName="title" required>
          <mat-error *ngIf="form.get('title')?.hasError('required')">
            Title is required
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Sub Title</mat-label>
          <input matInput formControlName="subtitle" required>
          <mat-error *ngIf="form.get('subtitle')?.hasError('required')">
            Subtitle is required
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Type</mat-label>
          <mat-select formControlName="type" required>
            <mat-option value="PLAIN_TASK">Plain Task</mat-option>
            <mat-option value="CONSTRUCTIVISM_TASK">Constructivism Task</mat-option>
            <mat-option value="ENHANCED_TASK">Enhanced Task</mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('type')?.hasError('required')">
            Type is required
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Level</mat-label>
          <mat-select formControlName="level" required>
            <mat-option value="INTERMEDIATE">Intermediate</mat-option>
            <mat-option value="PRE_INTERMEDIATE">Pre-Intermediate</mat-option>
            <mat-option value="UPPER_INTERMEDIATE">Upper-Intermediate</mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('level')?.hasError('required')">
            Level is required
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Upload File</mat-label>
          <input matInput [readonly]="true" [value]="fileName" (click)="fileInput.click()">
          <input type="file" #fileInput hidden (change)="onFileSelected($event)" accept=".pdf,.doc,.docx,.ppt,.pptx">
          <button mat-icon-button matSuffix (click)="fileInput.click()" type="button">
            <mat-icon>attach_file</mat-icon>
          </button>
        </mat-form-field>
      </div>

      <button
        mat-raised-button
        type="submit"
        class="w-100 bg-success text-white"
        [disabled]="form.invalid || !selectedFile">
        Save
      </button>
    </form>
  </div>
</div>
